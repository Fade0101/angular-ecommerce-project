<div *ngIf="isLoading" style="text-align: center; margin-top: 100px; color: #1b4353;">
  <h2>Loading... ⏳</h2>
</div>

<div *ngIf="errorMessage" style="text-align: center; margin-top: 100px; color: red;">
  <h2>{{ errorMessage }}</h2>
  <a routerLink="/" style="color: blue; text-decoration: underline;">Return to Home</a>
</div>

<div class="details-container" *ngIf="!isLoading && !errorMessage && product">
  <a routerLink="/" class="back-link">← Back to Shop</a>

  <div class="product-layout">
    <div class="image-section">
      <img [src]="product.thumbnail" [alt]="product.title">
    </div>

    <div class="info-section">
      <span class="category-badge">{{ product.category }}</span>
      <h1 class="product-title">{{ product.title }}</h1>
      
      <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 15px;">
        <p style="margin: 0; font-weight: bold; color: #ff9900;">⭐ {{ product.rating }} / 5</p>
        <span style="color: #ccc;">|</span>
        <p style="margin: 0; color: #666;">Brand: <strong>{{ product.brand || 'Generic' }}</strong></p>
        <span style="color: #ccc;">|</span>
        <p style="margin: 0; color: #28a745; font-weight: bold;">In Stock: {{ product.stock }}</p>
      </div>

      <p class="product-price">${{ product.price }}</p>
      
      <div class="divider"></div>
      
      <p class="product-description">{{ product.description }}</p>

      <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 20px;">
        <button (click)="decreaseQuantity()" style="width: 35px; height: 35px; border-radius: 50%; border: 1px solid #ddd; background: white; cursor: pointer; font-size: 1.2rem;">-</button>
        <span style="font-size: 1.2rem; font-weight: bold;">{{ quantity }}</span>
        <button (click)="increaseQuantity()" style="width: 35px; height: 35px; border-radius: 50%; border: 1px solid #ddd; background: white; cursor: pointer; font-size: 1.2rem;">+</button>
      </div>
      
      <button class="buy-btn" (click)="addToCart(product)">
        Add to Cart - ${{ product.price * quantity | number:'1.2-2' }}
      </button>
    </div>
  </div>
</div>